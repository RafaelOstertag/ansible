---

- name: Create logwatch logfiles configuration dir
  file:
    path: /usr/local/etc/logwatch/logfiles
    state: directory
    mode: 0755

- name: Create logwatch services configuration dir
  file:
    path: /usr/local/etc/logwatch/services
    state: directory
    mode: 0755

- name: Copy logwatch logfiles configuration
  copy:
    src: "logfiles/{{ item }}"
    dest: /usr/local/etc/logwatch/logfiles/{{ item }}
    mode: 0644
  with_items:
    - clam-update.conf
    - cron.conf
    - daemon.conf
    - http-error.conf
    - http.conf
    - maillog.conf
    - messages.conf
    - secure.conf
    - syslog.conf

- name: Copy logwatch services configuration
  copy:
    src: "services/{{ item }}"
    dest: /usr/local/etc/logwatch/services/{{ item }}
    mode: 0644
  with_items:
    - dhcpd.conf

