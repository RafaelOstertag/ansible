# Maintained by Ansible
#
# $Id$

ServerRoot "/usr/local"

Listen [fd3e:be3e:ec34:ffff::3]:2443

Include etc/apache24/default_modules.conf
Include etc/apache24/default_protection.conf
Include etc/apache24/ldap.conf
Include etc/apache24/mime.conf
Include etc/apache24/php.conf
Include etc/apache24/server_info.conf
Include etc/apache24/server_status.conf
Include etc/apache24/setenv.conf
Include etc/apache24/ssl.conf

# Order is important
Include etc/apache24/remote_ip.conf
Include etc/apache24/log.conf

ServerAdmin webmaster@guengel.ch
ServerName docuwiki.guengel.ch

DocumentRoot "/usr/local/www/apache24/data"

<Directory "/usr/local/www/apache24/data">
    Options Indexes FollowSymLinks
    AllowOverride None
    AuthType basic
    AuthName "Guengel's Realm"
    AuthBasicProvider ldap
    AuthLDAPURL "ldaps://optimusprime.kruemel.home viking.kruemel.home/ou=servicesauth,dc=kruemel,dc=home?uid?one"
    AuthLDAPBindDN cn=proxyagent,dc=kruemel,dc=home
    AuthLDAPBindPassword 7gJlk]M!*e
    AuthLDAPBindAuthoritative on
    <RequireAll>
      SSLRequireSSL
      require valid-user
      require host .kruemel.home
    </RequireAll>
</Directory>

<IfModule dir_module>
    DirectoryIndex index.php
</IfModule>

<IfModule headers_module>
    RequestHeader unset Proxy early
</IfModule>
