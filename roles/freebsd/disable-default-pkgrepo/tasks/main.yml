---

- name: create /usr/local/etc/pkg/repos
  when: "'freebsd-user-hosts' not in group_names'"
  file:
    dest: /usr/local/etc/pkg/repos
    state: directory
    mode: 0755
    owner: root
    group: wheel

- name: Disable FreeBSD pkg repo
  when: "'freebsd-user-hosts' not in group_names'"
  copy:
    src: FreeBSD.conf
    dest: /usr/local/etc/pkg/repos
    mode: 0644

- name: Enable FreeBSD pkg repo on user hosts
  when: "'freebsd-user-hosts' in group_names'"
  file:
    dest: /usr/local/etc/pkg/repos/FreeBSD.conf
    state: absent
