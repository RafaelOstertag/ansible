---

- name: Create logwatch logfiles configuration dir
  file:
    path: /etc/logwatch/conf/logfiles
    state: directory
    mode: 0755

- name: Create logwatch services configuration dir
  file:
    path: /etc/logwatch/conf/services
    state: directory
    mode: 0755

- name: Copy logwatch logfiles configuration
  copy:
    src: "logfiles/{{ item }}"
    dest: /etc/logwatch/conf/logfiles/{{ item }}
    mode: 0644
  with_items:
    - cron.conf
    - daemon.conf
    - maillog.conf
    - messages.conf
    - secure.conf
    - syslog.conf
    
- name: Copy logwatch services configuration
  copy:
    src: "services/{{ item }}"
    dest: /etc/logwatch/conf/services/{{ item }}
    mode: 0644
  with_items:
    - dhcpd.conf
    - named.conf
