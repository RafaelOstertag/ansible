---

- name: Create logwatch logfiles configuration dir
  file:
    path: /etc/opt/csw/logwatch/conf/logfiles
    state: directory
    mode: 0755

- name: Create logwatch services configuration dir
  file:
    path: /etc/opt/csw/logwatch/conf/services
    state: directory
    mode: 0755

- name: Copy logwatch logfiles configuration
  copy:
    src: "logfiles/{{ item }}"
    dest: /etc/opt/csw/logwatch/conf/logfiles/{{ item }}
    mode: 0644
  with_items:
    - clam-update.conf
    - cron.conf
    - daemon.conf
    - http-error.conf
    - http.conf
    - maillog.conf
    - messages.conf
    - secure.conf
    - syslog.conf

# Not used so far
# - name: Copy logwatch services configuration
#   copy:
#     src: "services/{{ item }}"
#     dest: /etc/opt/csw/logwatch/conf/services/{{ item }}
#     mode: 0644
#   with_items:

